pipeline {
    agent any 
    
    
    stages {

        stage('arquivo criado') {
            steps {
                sh touch > assessment.txt
            }
        }

        stage('distro') {
            steps {
                sh echo 'distro...'
                sh cat /etc/*-release >> assessment.txt
            }
            
        }
        stage('umane') {
            steps {
                sh echo 'uname...'
                sh uname -a >> assessment.txt
            }
        }
        stage('users') {
            steps {
                sh echo 'users...'
                cat /etc/passwd | cut -d: -f1 >> assessment.txt

            }
        }
        stage('pacotes') {
            steps {
                echo 'pacotes...'
                sh dpkg -l >> assessment.txt
            }
        }
    }
    
    post {
        always { sh echo "Eu sempre vou ser executado!"}
        success { sh echo "comppilação finalizada com sucesso!" >> assessment.txt}
        failure { sh echo "Somentei serei executado quando finalizar com erro!"}
    }
    
}
