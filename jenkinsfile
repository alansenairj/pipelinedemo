pipeline {
    agent any 
    
    
    stages {

        stage('arquivo criado') {
            steps {

                sh "touch assessment.txt"
            }
        }

        stage('distro') {
            steps {
                sh "cat /etc/*-release >> assessment.txt"
            }
            
        }
        stage('umane') {
            steps {
                sh "echo 'uname...'"
                sh "uname -a >> assessment.txt"
            }
        }
        stage('users') {
            steps {
                sh "echo 'users...'"
                sh "cat /etc/passwd | cut -d: -f1 >> assessment.txt"

            }
        }
        stage('pacotes') {
            steps {
                sh "echo 'pacotes...'"
                sh "dpkg -l >> assessment.txt"
            }
        }
    }
    
    post {
        always { echo "Eu sempre vou ser executado!"}
        success {  echo "comppilação finalizada com sucesso!" }
        failure {  echo "Somentei serei executado quando finalizar com erro!"}
    }
    
}
